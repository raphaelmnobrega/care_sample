<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Aqueena Template | Dashboard</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="">
		<link href="assets/css/bootstrap.min.css" rel="stylesheet">
		<link href="assets/css/style.css" rel="stylesheet">
		<link href="assets/css/bootstrap-responsive.min.css" rel="stylesheet">
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

		<!-- Le fav and touch icons -->
		<link rel="shortcut icon" href="assets/ico/favicon.ico">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
		<link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">		
		<script src="assets/js/plotly-latest.min.js"></script>
	</head>

	<body>
		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a>
					<a class="brand" href="./dash.html">CARE</a>
					<div class="nav-collapse">
						<ul class="nav">
							<li class="active">
								<a href="./dash.html">Dashboard</a>
							</li>
							<li>
								<a href="#">Single Menu</a>
							</li>
							<li>
								<a class="caption" data-content="And here's some amazing content. It's very engaging. right?" rel="popover"  href="#" data-original-title="A Title">
									Menu With Caption
								</a>
							</li>
							<li class="dropdown">
								<a data-toggle="dropdown" class="dropdown-toggle " href="#">Dropdown Menu<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li>
										<a href="#">Menu</a>
									</li>
									<li>
										<a href="#">Another Menu</a>
									</li>
									<li>
										<a href="#">Another Menu Too</a>
									</li>
									<li class="divider"></li>
									<li>
										<a href="#">Separated Menu</a>
									</li>
									<li>										
										<a href="#" class="caption" data-content="And here's some amazing content. It's very engaging. right?" rel="popover"  href="#" data-original-title="A Title">Separated Menu With Caption </a>
									</li>
								</ul>
							</li>
						</ul>
						<ul class="nav pull-right">
							<li>
								<a href="#"><span class="badge badge-warning">23</span></a>
							</li>
							<li class="divider-vertical"></li>
							<li>
								<a>May 23, 2012</a>
							</li>
							<li class="divider-vertical"></li>
							<li class="dropdown">
								<a data-toggle="dropdown" class="dropdown-toggle " href="#">Hello New Member <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li>
										<a href="./account.html"><i class="icon-user"></i> Account Setting  </a>
									</li>
									<li>
										<a href="./change_password.html"><i class="icon-lock"></i> Change Password</a>
									</li>
									<li class="divider"></li>
									<li>
										<a href="./"><i class="icon-off"></i> Logout</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row-fluid">
				<div class="span12">
					<div class="page-header-top">
						<div class="container">
							<h1>Dashboard <small>include all important information here</small></h1>
						</div>
					</div>
					<div class="page-header">
						<h3>Dashboard</h3>
					</div>
					<div class="row-fluid">
						<div class="span3">
							<ul class="nav nav-tabs nav-stacked">
								<li class="active">
									<a href="./dash.html" >Dashboard <span class="label label-warning pull-right">1</span></a>
								</li>
								<li>
									<a href="./table.html">Table</a>
								</li>
								<li>
									<a href="./form.html">Form</a>
								</li>
								<li>
									<a href="./tab.html">Tabular &amp; Accordion</a>
								</li>
							</ul>
							<ul class="nav nav-tabs nav-stacked">
							
								<li>
									<a href="./account.html">User Account</a>
								</li>
								<li>
									<a href="./change_password.html">Change Password</a>
								</li>
							</ul>
						    <form class="well form-search">
							    <input type="text" class="search-query" style="width:200px" placeholder="type and hit the enter key">
						    </form>									
						</div>
						<div class="span9">
						    <div class="well btn-warning">
						    	<div class="row">
						    		<div class="span4">
								    	<h1>Top 4</h1>
								    	Cancer						    			
						    		</div>
						    		<div class="span1">
								    	<h1>25</h1>
								    	Cervical						    			
						    		</div>
						    		<div class="span1">
								    	<h1>50</h1>
								    	Lung						    			
						    		</div>
						    		<div class="span1">
								    	<h1>15</h1>
								    	Prostate						    			
						    		</div>
						    		<div class="span1">
								    	<h1>75</h1>
								    	Breast						    			
						    		</div>
						    	</div>
						    </div>
						    <h3>Latest Transaction</h3>
							<br/>							
							<table class="table table-bordered">
								<tr>
									<td><div id="graph"></div></td>
								</tr>								
							</table>
							<h3>Cancer Cases per Hospital</h3>
							<br/>
							<table class="table table-bordered">
								<tr>
									<td><div id="myDiv"></div></td>
								</tr>								
							</table>							
						</div>
					</div>
				</div>
			</div>

			<hr/>
			<footer>
				<p>
					Put Your Copyright Here &copy; 2012
				</p>
			</footer>

		</div>
		<script src="assets/js/jquery.js"></script>
		<script src="assets/js/bootstrap-transition.js"></script>
		<script src="assets/js/bootstrap-alert.js"></script>
		<script src="assets/js/bootstrap-modal.js"></script>
		<script src="assets/js/bootstrap-dropdown.js"></script>
		<script src="assets/js/bootstrap-scrollspy.js"></script>
		<script src="assets/js/bootstrap-tab.js"></script>
		<script src="assets/js/bootstrap-tooltip.js"></script>
		<script src="assets/js/bootstrap-popover.js"></script>
		<script src="assets/js/bootstrap-button.js"></script>
		<script src="assets/js/bootstrap-collapse.js"></script>
		<script src="assets/js/bootstrap-carousel.js"></script>
		<script src="assets/js/bootstrap-typeahead.js"></script>
		<script src="assets/js/custom.js"></script>
	</body>
</html>
<script type="text/javascript">
	var data = [{
        type: 'scattergeo',
        mode: 'markers+text',
        text: [
            'London Regional', 'Grand River Regional', 'Juravinski Cancer Centre', 'Carlo Fidani Regional', 'Odette Cancer Centre',
            'Princess Margaret', 'Southlake Regional Health Centre', 
            'Cancer Centre of Southeastern Ontario', 'The Ottawa Hospital Cancer Centre', 
            'Simcoe Muskoka Regional Cancer Centre', 'Northeast Cancer Centre', 'Regional Cancer Care Northwest'
        ],
        lon: [
            -81.227970, -80.512337, -79.846150, -79.702798, -79.377493,
            -79.390014, -79.452425, -76.491676, -75.647947, -79.661093, -80.995774, -89.269605
        ],
        lat: [
            42.959748, 43.456454, 43.239889, 43.557726, 43.720618, 43.658205,
            44.060668, 44.223064, 45.400749, 44.414109, 46.468666, 48.425427
        ],
        marker: {
            size: [
            		20, 30, 15, 10, 35,
            		25, 35, 20, 15, 30,
            		30, 15
            ],
            color: [
                '#bebada', '#fdb462', '#fb8072', '#27442e', '#bc80bd',
                '#b3de69', '#8dd3c7', '#80b1d3', '#d63727', '#485f8c',
                '#273144', '#b657c3'
            ],
            line: {
                width: 1
            }
        },
        name: 'Cancer Cases per Hospital',
        textposition: [
            'top right', 'top left', 'top center', 'bottom right', 'top right',
            'top left', 'bottom right', 'bottom left', 'top right', 'top right',
            'bottom left', 'top right'
        ],
    }];

    var layout = {        
        font: {
            family: 'Droid Serif, serif',
            size: 8
        },       
        geo: {
            scope: 'north america',
            resolution: 50,

            lonaxis: {
                'range': [-90, -74]
            },
            lataxis: {
                'range': [41, 49]
            },
            showrivers: true,
            rivercolor: '#fff',
            showlakes: true,
            lakecolor: '#fff',
            showland: true,
            landcolor: '#EAEAAE',
            countrycolor: '#d3d3d3',
            countrywidth: 1.5,
            subunitcolor: '#d3d3d3'
        }        
    };

    Plotly.newPlot('myDiv', data, layout);
</script>

<script type="text/javascript">

Plotly.d3.csv('gapminderDataFiveYear.csv', function (err, data) {
  // Create a lookup table to sort and regroup the columns of data,
  // first by year, then by continent:
  var lookup = {};
  function getData(year, continent) {
    var byYear, trace;
    if (!(byYear = lookup[year])) {;
      byYear = lookup[year] = {};
    }
     // If a container for this year + continent doesn't exist yet,
     // then create one:
    if (!(trace = byYear[continent])) {
      trace = byYear[continent] = {
        x: [],
        y: [],
        id: [],
        text: [],
        marker: {size: []}
      };
    }
    return trace;
  }

  // Go through each row, get the right trace, and append the data:
  for (var i = 0; i < data.length; i++) {
    var datum = data[i];
    var trace = getData(datum.year, datum.continent);
    trace.text.push(datum.country);
    trace.id.push(datum.country);
    trace.x.push(datum.lifeExp);
    trace.y.push(datum.gdpPercap);
    trace.marker.size.push(datum.pop);
  }

  // Get the group names:
  var years = Object.keys(lookup);
  // In this case, every year includes every continent, so we
  // can just infer the continents from the *first* year:
  var firstYear = lookup[years[0]];
  var continents = Object.keys(firstYear);

  // Create the main traces, one for each continent:
  var traces = [];
  for (i = 0; i < continents.length; i++) {
    var data = firstYear[continents[i]];
     // One small note. We're creating a single trace here, to which
     // the frames will pass data for the different years. It's
     // subtle, but to avoid data reference problems, we'll slice 
     // the arrays to ensure we never write any new data into our
     // lookup table:
    traces.push({
      name: continents[i],
      x: data.x.slice(),
      y: data.y.slice(),
      id: data.id.slice(),
      text: data.text.slice(),
      mode: 'markers',
      marker: {
        size: data.marker.size.slice(),
        sizemode: 'area',
        sizeref: 200000
      }
    });
  }

  // Create a frame for each year. Frames are effectively just
  // traces, except they don't need to contain the *full* trace
  // definition (for example, appearance). The frames just need
  // the parts the traces that change (here, the data).
  var frames = [];
  for (i = 0; i < years.length; i++) {
    frames.push({
      name: years[i],
      data: continents.map(function (continent) {
        return getData(years[i], continent);
      })
    })
  }
    
  // Now create slider steps, one for each frame. The slider
  // executes a plotly.js API command (here, Plotly.animate).
  // In this example, we'll animate to one of the named frames
  // created in the above loop.
  var sliderSteps = [];
  for (i = 0; i < years.length; i++) {
    sliderSteps.push({
      method: 'animate',
      label: years[i],
      args: [[years[i]], {
        mode: 'immediate',
        transition: {duration: 300},
        frame: {duration: 300, redraw: false},
      }]
    });
  }
  
  var layout = {
    xaxis: {
      title: 'Age of the Patient',
      range: [30, 85]
    },
    yaxis: {
      title: 'Years of Survival',
      type: 'log'
    },
    hovermode: 'closest',
     // We'll use updatemenus (whose functionality includes menus as
     // well as buttons) to create a play button and a pause button.
     // The play button works by passing `null`, which indicates that
     // Plotly should animate all frames. The pause button works by
     // passing `[null]`, which indicates we'd like to interrupt any
     // currently running animations with a new list of frames. Here
     // The new list of frames is empty, so it halts the animation.
    updatemenus: [{
      x: 0,
      y: 0,
      yanchor: 'top',
      xanchor: 'left',
      showactive: false,
      direction: 'left',
      type: 'buttons',
      pad: {t: 87, r: 10},
      buttons: [{
        method: 'animate',
        args: [null, {
          mode: 'immediate',
          fromcurrent: true,
          transition: {duration: 300},
          frame: {duration: 500, redraw: false}
        }],
        label: 'Play'
      }, {
        method: 'animate',
        args: [[null], {
          mode: 'immediate',
          transition: {duration: 0},
          frame: {duration: 0, redraw: false}
        }],
        label: 'Pause'
      }]
    }],
     // Finally, add the slider and use `pad` to position it
     // nicely next to the buttons.
    sliders: [{
      pad: {l: 130, t: 55},
      currentvalue: {
        visible: true,
        prefix: 'Year:',
        xanchor: 'right',
        font: {size: 20, color: '#666'}
      },
      steps: sliderSteps
    }]
  };
  
  // Create the plot:
  Plotly.plot('graph', {
    data: traces,
    layout: layout,
    frames: frames,
  });
});

</script>